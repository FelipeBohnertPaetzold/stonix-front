<div class="page">
    <md-toolbar layout="row">
        <h2 class="md-toolbar-tools">{{pageTitle}}</h2>
        <div class="md-toolbar-tools">
            <md-button hide-gt-sm class="menu" ng-click="toggleSidenav('left')" aria-label="Show User List">
                <md-icon md-svg-icon="menu"></md-icon>
            </md-button>
        </div>

        <div class="md-toolbar-tools">
            <i class="fa fa-search" aria-hidden="true"
               title="Buscar perguntas"></i>
            <md-input-container md-theme="input">
                <input style="border-color: #fff; font-size: 14px; color: #fff; width: 300px;" ng-model="search"
                       aria-label="Buscar salas">
            </md-input-container>
        </div>
    </md-toolbar>

    <div ng-cloak class="tabsdemoDynamicHeight">
        <md-content>
            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Salas">
                    <md-content>
                        <div class="content">
                            <md-card ng-repeat="room in rooms | filter:search"
                                     ng-click="navigateTo('/rooms/' + room.id)" style="cursor:pointer;">
                                <md-card-content>
                                    <div layout="row">
                                        <div layout="column">
                                            <i class="fa fa-graduation-cap fa-icon-classroom" aria-hidden="true"></i>
                                        </div>
                                        <div layout="column" flex class="descQuestion">
                                            <strong>{{ room.name }}</strong>
                                            <p>{{ room.description }}</p>
                                        </div>
                                    </div>
                                </md-card-content>
                                <md-divider></md-divider>
                                <md-card-footer>
                                    <a class="actionQuestion">
                                        <i class="fa fa-user fa-gray" aria-hidden="true"></i>
                                        {{ room.teacher.name }}
                                    </a>
                                    <a class="actionQuestion">
                                        <i class="fa fa-users fa-gray" aria-hidden="true"></i>
                                        {{ room.students.length + 1 }} integrantes
                                    </a>
                                </md-card-footer>
                            </md-card>
                        </div>
                    </md-content>
                </md-tab>

                <md-tab label="Minhas salas">
                    <md-content>
                        <div class="content">
                            <md-card ng-repeat="myRoom in myRooms | filter:search"
                                     ng-click="navigateTo('/rooms/' + myRoom.id)" style="cursor:pointer;">
                                <md-card-content>
                                    <div layout="row">
                                        <div layout="column">
                                            <i class="fa fa-graduation-cap fa-icon-classroom" aria-hidden="true"></i>
                                        </div>
                                        <div layout="column" flex class="descQuestion">
                                            <strong>{{ myRoom.name }}</strong>
                                            <p>{{ myRoom.description }}</p>
                                        </div>
                                    </div>
                                </md-card-content>
                                <md-divider></md-divider>
                                <md-card-footer>
                                    <a class="actionQuestion">
                                        <i class="fa fa-user fa-gray" aria-hidden="true"></i>
                                        {{ myRoom.teacher.name }}
                                    </a>
                                    <a class="actionQuestion">
                                        <i class="fa fa-users fa-gray" aria-hidden="true"></i>
                                        {{ myRoom.members }} integrantes
                                    </a>
                                </md-card-footer>
                            </md-card>
                        </div>
                    </md-content>
                </md-tab>

                <md-tab label="Nova sala">
                    <md-content>
                        <div class="content">

                            <md-card>
                                <md-card-content>

                                    <form name="roomForm">
                                        <md-input-container layout="row">
                                            <label>Nome da sala</label>
                                            <input name="title" ng-model="room.name" required maxlength="250"
                                                   minlength="5">
                                        </md-input-container>
                                        <md-input-container layout="row" style="margin-top: 30px">
                                            <label>Descrição da sala</label>
                                            <input name="title" ng-model="room.description" required
                                                   maxlength="250"
                                                   minlength="5">
                                        </md-input-container>
                                    </form>
                                </md-card-content>
                                <md-card-footer>
                                    <div layout="row" class="float-right">
                                        <md-button class="md-raised md-primary">
                                            <i class="fa fa-times" aria-hidden="true"></i>
                                            cancelar
                                        </md-button>
                                        <md-button class="md-raised md-accent" ng-click="createRoom(room);">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                            criar
                                        </md-button>
                                    </div>
                                </md-card-footer>
                            </md-card>
                        </div>
                    </md-content>
                </md-tab>
            </md-tabs>
        </md-content>
    </div>
</div>
