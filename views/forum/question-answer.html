<div class="page">
    <md-toolbar layout="row">
        <md-button hide-gt-sm class="menu" ng-click="toggleSidenav('left')" aria-label="Show User List">
            <md-icon md-svg-icon="menu"></md-icon>
        </md-button>
        <h3 class="md-toolbar-tools">
            <i class="fa fa-arrow-left margin-fa" aria-hidden="true" ng-click="navigateTo('/questions')"></i>
            {{pageTitle}}
        </h3>

        <md-input-container md-theme="input" flex>
            <input class="searchQuestion" aria-label="Buscar pergunta">
        </md-input-container>
        <i class="fa fa-search" aria-hidden="true"></i>
        </md-input-container>
    </md-toolbar>

    <div class="content">
        <md-card>
            <md-card-content>
                <div layout="row">
                    <div layout="column">
                        <img src="{{ user.image }}" class="userQuestion"/>
                        {{ user.rank }}°
                    </div>
                    <div layout="column" class="descQuestion">
                        {{ question.title }}
                    </div>
                </div>
            </md-card-content>
            <md-divider></md-divider>
            <md-card-footer>
                <a ng-click="niceQuestion(question)" class="actionQuestion">
                    <i class="fa fa-thumbs-up fa-gray" aria-hidden="true"></i>
                    {{ question.nice }} gostei
                </a>
                <a href="#" class="actionQuestion">
                    <i class="fa fa-comments fa-gray" aria-hidden="true"></i>
                    {{ question.numberAnswers}} respostas
                </a>
                <a href="#" class="actionQuestion">
                    <i class="fa fa-clock-o fa-gray" aria-hidden="true"></i>
                    {{ question.lastUpdate | date: 'dd/MM/yyyy HH:mm' }}
                </a>
            </md-card-footer>
            <md-divider></md-divider>

            <md-card-content>
                <div ng-bind-html="question.description | to_trusted"></div>
            </md-card-content>
            <md-divider></md-divider>

            <md-card-content>
                <div layout="row" class="float-right" ng-show="!hideButton && !question.answered">
                    <md-button class="md-raised md-accent" ng-click="toAnswer()">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                        responder
                    </md-button>
                </div>
            </md-card-content>
            <div ng-show="hideButton && !question.answered">
                <md-card-content>
                    <md-input-container>
                        <label>Resposta</label>
                        <input ng-model="answer.description">
                    </md-input-container>
                    <div layout="row" class="float-right">
                        <div layout="column">
                            <md-button class="md-raised md-primary float-right"
                                       ng-click="navigateTo('/questions/' + question.id)">
                                <i class="fa fa-times" aria-hidden="true"></i>
                                cancelar
                            </md-button>
                        </div>
                        <div layout="column">
                            <md-button class="md-raised md-accent float-right"
                                       ng-click="postAnswer()">
                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                responder
                            </md-button>
                        </div>
                    </div>
                </md-card-content>
        </md-card>

    </div>
</div>
<div class="content">
    <md-card ng-repeat="answer in answers">
        <md-card-content>
            <div layout="row">
                <div layout="column">
                    <img src="{{ user.image }}" class="userQuestion"/>
                    {{ user.rank }}°
                </div>
                <div layout="column" flex class="descQuestion">
                    {{ answer.description }}
                </div>
                <div layout="column">
                    <i class="fa fa-check fa-gray-light float-right" aria-hidden="true" ng-click="acceptAnswer(answer)" ng-if="!answer.bestAnswer && !question.answered"></i>
                    <i class="fa fa-check fa-blue float-right" aria-hidden="true" ng-if="answer.bestAnswer"></i>
                </div>
            </div>
        </md-card-content>
        <md-divider></md-divider>
        <md-card-footer>
            <a ng-click="niceAnswer(answer)" class="actionQuestion">
                <i class="fa fa-thumbs-up fa-gray" aria-hidden="true"></i>
                {{ answer.nice }} gostei
            </a>
            <a href="#" class="actionQuestion">
                <i class="fa fa-comments fa-gray" aria-hidden="true"></i>
                {{ answer.numberAnswers }} respostas
            </a>
            <a href="#" class="actionQuestion">
                <i class="fa fa-clock-o fa-gray" aria-hidden="true"></i>
                {{ answer.lastUpdate | date: 'dd/MM/yyyy HH:mm' }}
            </a>
        </md-card-footer>
    </md-card>
</div>
</div>