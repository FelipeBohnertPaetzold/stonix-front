<div class="page">
	<md-toolbar layout="row">
		<md-button hide-gt-sm class="menu" ng-click="toggleSidenav('left')" aria-label="Show User List">
			<md-icon md-svg-icon="menu"></md-icon>
		</md-button>

		<h3 class="md-toolbar-tools">{{pageTitle}}</h3>

        <md-input-container md-theme="input" flex>
            <input class="searchQuestion" aria-label="Buscar pergunta">
          </md-input-container>
        <i class="fa fa-search" aria-hidden="true" title="Buscar perguntas"></i>
    </md-input-container>
	</md-toolbar>

	<div ng-cloak class="tabsdemoDynamicHeight">
		<md-content>
			<md-tabs md-dynamic-height md-border-bottom>
				<md-tab label="Todos">
					<md-content>
						<div class="content">

							<md-card ng-repeat="question in questions">
								<md-card-content ng-click="navigateTo('/questions/answers/' + question.id)">
									<div layout="row">
										<div layout="column">
											<img ng-src="{{ question.user.image }}" class="userQuestion" title="{{ question.user.name }}"/>
											{{ question.user.punctuation }} pontos
										</div>
										<div layout="column" flex class="descQuestion">
											{{ question.title }}
										</div>
										<div layout="column">
											<i class="fa fa-check-square-o fa-blue float-right" aria-hidden="true" ng-if="question.answered" title="Resolvido"></i>
										</div>
									</div>
								</md-card-content>
								<md-divider></md-divider>
								<md-card-footer>
									<a ng-click="niceQuestion(question)" class="actionQuestion">
										<i class="fa fa-thumbs-up fa-gray" aria-hidden="true"></i>
										{{ question.nice }} gostei
									</a>
									<a ng-click="navigateTo('/questions/answers/' + question.id)" class="actionQuestion">
										<i class="fa fa-comments fa-gray" aria-hidden="true"></i>
										 {{question.numberAnswers}} respostas
									</a>
									<a class="actionQuestion">
										<i class="fa fa-clock-o fa-gray" aria-hidden="true"></i>
										{{ question.lastUpdate | date: 'dd/MM/yyyy HH:mm' }}
									</a>
									<a class="actionQuestion">
										<i class="fa fa-eye fa-gray" aria-hidden="true"></i>
										{{ question.views }} exibições
									</a>
								</md-card-footer>
							</md-card>
						</div>
					</md-content>
				</md-tab>

				<md-tab label="Minhas perguntas">
					<md-content>
						<div class="content">

							<md-card ng-click="navigateTo('/questions/' + myQuestion.id)" ng-repeat="myQuestion in myQuestions">
								<md-card-content>
									<div layout="row">
										<div layout="column">
											<img ng-src="{{ myQuestion.user.image }}" class="userQuestion" title="{{ myQuestion.user.name }}"/>
											{{ myQuestion.user.punctuation }} pontos
										</div>
										<div layout="column" flex class="descQuestion">
											{{ myQuestion.title }}
										</div>
										<div layout="column">
											<i class="fa fa-check-square-o fa-blue float-right" aria-hidden="true" ng-if="myQuestion.answered" title="Resolvido"></i>
										</div>
									</div>
								</md-card-content>
								<md-divider></md-divider>
								<md-card-footer>
									<a ng-click="niceQuestion(myQuestion)" class="actionQuestion">
										<i class="fa fa-thumbs-up fa-gray" aria-hidden="true"></i>
										{{ myQuestion.nice }} gostei
									</a>
									<a class="actionQuestion">
										<i class="fa fa-comments fa-gray" aria-hidden="true"></i>
										{{ myQuestion.numberAnswers }} respostas
									</a>
									<a class="actionQuestion">
										<i class="fa fa-clock-o fa-gray" aria-hidden="true"></i>
										{{ myQuestion.lastUpdate | date: 'dd/MM/yyyy HH:mm' }}
									</a>
								</md-card-footer>
							</md-card>
						</div>
					</md-content>
				</md-tab>

				<md-tab label="Nova pergunta">
					<md-content>
						<div class="content">

							<md-card>
								<md-card-content>

									<form name="questionForm">
									<md-input-container>
										<label>Título da pergunta</label>
										<input name="title" ng-model="question.title" required md-maxlength="250" minlength="5">
										<div ng-messages="questionForm.title.$error" ng-show="questionForm.title.$dirty">
											<div ng-message="required">Ei! Este campo é obrigatório!</div>
											<div ng-message="md-maxlength">Ops! Este campo não pode passar de 250 caracteres. :(</div>
											<div ng-message="minlength">Ops! Este campo deve conter mais que 5 caracteres.</div>
										</div>

									</md-input-container>

									<md-input-container>
										<wysiwyg textarea-id="question"
											textarea-class="area-color"
											textarea-height="180px"
											textarea-name="textareaQuestion"
											textarea-required
											ng-model="data.text"
											enable-bootstrap-title="true"
											textarea-menu="menu"
											disabled="disabled"

											ng-model="question.description">
								        </wysiwyg>
										<!--
										<textarea name="description" ng-model="question.description" required  minlength="10"></textarea>
										<div ng-messages="questionForm.description.$error" ng-show="questionForm.description.$dirty">
											<div ng-message="required">Ei! Este campo é obrigatório!</div>
											<div ng-message="minlength">Ops! Este campo deve conter mais que 10 caracteres.</div>
										</div>
										-->
									</md-input-container>
									</form>
								</md-card-content>
								<md-card-footer>
									<div layout="row" class="float-right">

										<md-button class="md-raised md-primary">
											<i class="fa fa-times" aria-hidden="true"></i>
											cancelar
										</md-button>
										<md-button class="md-raised md-accent" ng-click="createQuestion();">
											<i class="fa fa-comment" aria-hidden="true"></i>
											perguntar
										</md-button>
									</div>
								</md-card-footer>
							</md-card>
						</div>
					</md-content>
				</md-tab>
			</md-tabs>
		</md-content>
	</div>
</div>